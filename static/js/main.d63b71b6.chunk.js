(this.webpackJsonpsplitsy=this.webpackJsonpsplitsy||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),s=a.n(i),l=a(2),c=a(3),m=a(5),o=a(4),u=a(10),p=a(9),d=(a(54),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={title:"",name:"",participants:[]},e.handleOnSubmit=function(t){var a=e.props.onSubmit;""!==e.state.title&&e.state.participants!==[]&&(t.preventDefault(),a(e.state))},e.addParticipant=function(t){console.log("Participant Name: ",e.state.name),""!==e.state.name&&e.setState({participants:[].concat(Object(u.a)(e.state.participants),[e.state.name]),name:""})},e.removeParticipant=function(t){console.log(t);var a,n=e.state.participants,r=n.length;for(a=0;a<r;a++)if(n[a]===t){n.splice(a,1);break}e.setState({participants:n})},e.showParticipants=function(){var t,a,n,i=e.state.participants,s=i.length,l=[];for(t=0;t<s;t++)n=i[t],a=Math.floor(1e3+9e3*Math.random()),l.push(r.a.createElement("div",{className:"ui blue basic label",key:a},i[t]," ",r.a.createElement("i",{className:"delete icon",onClick:e.removeParticipant.bind(Object(p.a)(e),n)})));return l},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleOnSubmit},r.a.createElement("div",null,r.a.createElement("div",{className:"fields"},r.a.createElement("div",{className:"six wide field"},r.a.createElement("input",{type:"text",placeholder:"Event Name",onChange:function(t){return e.setState({title:t.target.value})}}))),r.a.createElement("div",{className:"inline fields"},r.a.createElement("div",{className:"four wide field"},r.a.createElement("input",{type:"text",placeholder:"Participant",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement("div",{className:"two wide field"},r.a.createElement("button",{className:"ui button",type:"button",onClick:this.addParticipant},r.a.createElement("i",{className:"user plus icon"}),"Add")))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"generic-container"},r.a.createElement("div",{className:"ui large labels"},this.showParticipants())),r.a.createElement("br",null),r.a.createElement("div",{className:"generic-container"},r.a.createElement("button",{className:"ui primary button"},"Create")))))}}]),a}(n.Component)),v=(a(55),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={customAmt:[]},e.curr=[],e.listEven=function(t){var a=(e.props.amt/e.props.members.length).toFixed(2);return r.a.createElement("div",{className:"inline fields",key:t},r.a.createElement("label",{className:"split-list"},t),r.a.createElement("div",null,r.a.createElement("input",{value:a,type:"number",readOnly:!0})))},e.listCustom=function(t){return r.a.createElement("div",{className:"inline fields",key:t},r.a.createElement("label",{className:"split-list"},t),r.a.createElement("div",null,r.a.createElement("input",{id:"receiptCustom",key:t,className:"amount-form",type:"number",placeholder:"0.00",step:"0.01",onChange:function(a){return e.setVals(a.target.value,t)}})))},e.setVals=function(t,a){var n,r={key:"",amt:0},i=!1,s=e.curr.length,l=0,c=parseFloat(t);if(console.log("xfloat: ",c),r.key=a,r.amt=c,0===s)e.curr.push(r);else{for(;l!==s;){if(e.curr[l].key===a){i=!0,e.curr[l].amt=c;break}l++}!1===i&&e.curr.push(r)}e.setState({customAmt:(n=e.state.customAmt).splice.apply(n,[0,s].concat(Object(u.a)(e.curr)))}),console.log("state.customAmt: ",e.state.customAmt),e.props.onReceiptInputReturn(e.state.customAmt)},e}return Object(c.a)(a,[{key:"render",value:function(){return!0===this.props.dispEven?(console.log("split even was clicked"),r.a.createElement("div",{className:"field"},r.a.createElement("div",null,this.props.members.map(this.listEven)))):!0===this.props.dispCust?(console.log("split custom was clicked"),r.a.createElement("div",{className:"field"},r.a.createElement("div",null,this.props.members.map(this.listCustom)))):(console.log("nothing clicked"),r.a.createElement("div",null))}}]),a}(n.Component)),b=(a(56),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={details:{id:0,name:"",amount:0,payer:"",evenSplit:0,custom:[]},receipts:[],display:[],runningAmount:0,even:!0,custom:!1,edit:!1,currID:0},e.handleOnSubmit=function(t){(0,e.props.onSubmit)(e.state)},e.makeOption=function(e){return r.a.createElement("option",{key:e},e)},e.setName=function(t){var a=e.state.details;a.name=t,e.setState({details:a})},e.setAmount=function(t){var a=e.state.details;a.amount=t,e.setState({details:a,runningAmount:t})},e.setPayer=function(){var t=s.a.findDOMNode(e.refs.selector).value,a=e.state.details;a.payer=t,e.setState({details:a})},e.splitEven=function(){var t=e.state.details,a=(t.amount/e.props.members.length).toFixed(2),n=parseFloat(a);t.evenSplit=n,t.custom=[],e.setState({details:t,even:!0,custom:!1})},e.splitCustom=function(){var t=e.state.details;t.evenSplit=0,e.setState({details:t,even:!1,custom:!0})},e.getCustomVals=function(t){var a,n=e.state.details;n.custom=(a=n.custom).splice.apply(a,[0,t.length].concat(Object(u.a)(t))),n.custom=t,e.setState({details:n})},e.resetForm=function(){e.setState({even:!0,custom:!1})},e.pushReceipt=function(){var t,a=e.state.details,n=e.state.receipts,r=n.length,i={id:0,name:"",amount:0,payer:"",evenSplit:0,custom:[]};if(!0===e.state.even){var s=((c=a.amount)/e.props.members.length).toFixed(2),l=parseFloat(s);a.evenSplit=l}if(!1===e.state.edit){var c=Math.floor(1e3+9e3*Math.random());Object.assign(i,a),i.custom=e.deepCopy(a.custom),i.id=c,n=[].concat(Object(u.a)(n),[i]),e.props.onMainReturn(n),e.setState({receipts:n,even:!0,custom:!1})}else for(t=0;t<r;t++)if(n[t].id===a.id){n[t]=a,e.setState({receipts:n,edit:!1,even:!0,custom:!1});break}},e.showList=function(){var t,a=[],n=e.state.receipts,i=e.state.receipts.length;for(t=0;t<i;t++){var s=n[t].id;a.push(r.a.createElement("div",{className:"card",key:t},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},n[t].name),r.a.createElement("div",{className:"description"},"Amount: $",n[t].amount,r.a.createElement("br",null),"Paid by: ",n[t].payer)),r.a.createElement("div",{className:"ui two bottom attached buttons"},r.a.createElement("div",{className:"ui button",onClick:e.editReceipt.bind(Object(p.a)(e),s)},"Edit"),r.a.createElement("div",{className:"ui button",onClick:e.removeReceipt.bind(Object(p.a)(e),s)},"Remove"))))}return r.a.createElement(r.a.Fragment,null,a)},e.editReceipt=function(t){var a,n=e.state.receipts,r=n.length,i=e.state.details;for(i.id=t,a=0;a<r;a++)if(n[a].id===t){document.getElementById("receiptName").value=n[a].name,document.getElementById("receiptAmount").value=n[a].amount,document.getElementById("receiptPayer").value=n[a].payer,i.name=n[a].name,i.amount=n[a].amount,i.payer=n[a].payer,0===n[a].evenSplit?e.setState({custom:!0}):e.setState({even:!0});break}e.setState({edit:!0,details:i})},e.removeReceipt=function(t){var a,n=e.state.receipts,r=n.length;for(a=0;a<r;a++)if(n[a].id===t){n.splice(a,1);break}e.setState({receipts:n,edit:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"receipt-container"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleOnSubmit,id:"mainForm"},r.a.createElement("div",{className:"receipt"},r.a.createElement("div",{className:"fields"},r.a.createElement("div",{className:"four wide field"},r.a.createElement("label",null,"Receipt Name"),r.a.createElement("input",{id:"receiptName",type:"text",placeholder:"Receipt Name",onChange:function(t){return e.setName(t.target.value)}})),r.a.createElement("div",{className:"two wide field"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{id:"receiptAmount",type:"number",placeholder:"0.00",min:"0.00",step:"0.01",onChange:function(t){return e.setAmount(t.target.value)}})),r.a.createElement("div",{className:"four wide field"},r.a.createElement("label",null,"Paid By:"),r.a.createElement("select",{className:"ui dropdown",id:"receiptPayer",ref:"selector",onChange:this.setPayer},r.a.createElement("option",{value:""},"Select"),this.props.members.map(this.makeOption)))),r.a.createElement("div",{className:"inline fields"},r.a.createElement("label",null,"Split"),r.a.createElement("div",{className:"ui buttons"},r.a.createElement("button",{className:"ui button",type:"button",onClick:this.splitEven},"Even"),r.a.createElement("div",{className:"or"}),r.a.createElement("button",{className:"ui button",type:"button",onClick:this.splitCustom},"Custom"))),r.a.createElement("div",null,r.a.createElement(v,{dispEven:this.state.even,dispCust:this.state.custom,members:this.props.members,amt:this.state.runningAmount,onReceiptInputReturn:this.getCustomVals})),r.a.createElement("div",{className:"fields"},r.a.createElement("button",{className:"ui button",type:"button",onClick:this.pushReceipt},"Done with Receipt"),r.a.createElement("button",{className:"ui button",type:"reset",onClick:this.resetForm},"Clear")),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("div",{className:"inline fields"},r.a.createElement("button",{className:"ui primary button"},"Submit")))),r.a.createElement("br",null),r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"ui four cards"},this.showList())))}},{key:"deepCopy",value:function(e){var t,a,n;if("object"!==typeof e||null===e)return e;for(n in t=Array.isArray(e)?[]:{},e)a=e[n],t[n]=this.deepCopy(a);return t}}]),a}(n.Component)),h=a(47),f=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"donut-chart-container"},r.a.createElement(h.a,{data:this.props.data,width:300,height:300,options:{maintainAspectRatio:!1}})))}}]),a}(n.Component),E=(a(152),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={allReceipts:e.props.allReceipts,main:{},members:e.props.members,oweMatrix:[],paidFor:[],infoLoaded:!1},e.mainData=function(){var t,a,n,r,i={labels:[],datasets:[{data:[],backgroundColor:[],hoverbackgroundColor:[]}]},s=e.state.members,l=e.state.allReceipts,c=0;for(t=0;t<s.length;t++){for(i.labels.push(s[t]),r=s[t],a=0;a<l.length;a++)l[a].payer===r&&(c+=parseFloat(l[a].amount));n="#"+Math.random().toString(16).slice(2,8).toUpperCase(),c=parseFloat(c),i.datasets[0].data.push(c),i.datasets[0].backgroundColor.push(n),i.datasets[0].hoverbackgroundColor.push(n),c=0}e.setState({main:i})},e.changeColor=function(){var t,a,n=e.state.main,r=e.state.members.length;for(t=0;t<r;t++)a="#"+Math.random().toString(16).slice(2,8).toUpperCase(),n.datasets[0].backgroundColor[t]=a,n.datasets[0].hoverbackgroundColor[t]=a;e.setState({main:n})},e.generateReceiptList=function(){var t,a=[],n=0,r=e.state.members,i=e.state.allReceipts,s=e.state.members.length,l=e.state.allReceipts.length;for(t=0;t<s;t++){var c={name:"",paidFor:[]};c.name=r[t],a.push(c)}for(t=0;t<l;t++){for(;i[t].payer!==a[n].name;)n++;a[n].paidFor.push(i[t].name),n=0}e.setState({paidFor:a})},e.determineDebt=function(){var t,a,n,r,i,s,l=e.state.members,c=e.state.allReceipts,m=e.state.members.length,o=e.state.allReceipts.length,u=0,p=0,d=[];for(t=0;t<m;t++){var v={key:"",member:[]};for(v.key=l[t],a=0;a<m;a++){var b={name:"",amt:0};b.name=l[a],v.member.push(b)}d.push(v)}for(t=0;t<o;t++){for(r=c[t].payer,p=c[t].evenSplit,a=0;a<m&&l[a]!==r;a++);if(0!==p)for(n=0;n<m;n++)u=d[a].member[n].amt,u+=p,d[a].member[n].amt=parseFloat(u);else for(n=0;n<m;n++)u=d[a].member[n].amt,u+=c[t].custom[n].amt,d[a].member[n].amt=parseFloat(u)}for(t=0;t<m;t++)for(i=d[t].key,a=0;a<m;a++)i===d[t].member[a].name?d[t].member[a].amt=0:((s=d[t].member[a].amt-d[a].member[t].amt)<0?(s*=-1,d[t].member[a].amt=0,d[a].member[t].amt=s.toFixed(2)):s>0?(d[t].member[a].amt=s.toFixed(2),d[a].member[t].amt=0):0===s&&(d[t].member[a].amt=0,d[a].member[t].amt=0),s=0);e.setState({oweMatrix:d,infoLoaded:!0})},e.cardDisplay=function(){var t,a,n=e.state.oweMatrix,i=e.state.oweMatrix.length,s=0,l=[];for(t=0;t<i;t++)a=n[t].key,l.push(r.a.createElement("div",{className:"card",key:s},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"center aligned header"},a,"'s Receipts"),r.a.createElement("div",{className:"description"},e.receiptDisplay(t))),r.a.createElement("div",{className:"extra content"},r.a.createElement("div",{className:"description"},e.oweDisplay(t,a))))),s++;return r.a.createElement(r.a.Fragment,null,l)},e.receiptDisplay=function(t){var a,n=e.state.paidFor,i=n[t].paidFor.length,s=[],l=0;for(a=0;a<i;a++)s.push(r.a.createElement("div",{className:"item",key:l},n[t].paidFor[a])),l++;return r.a.createElement("div",{className:"ui list"},s)},e.oweDisplay=function(t,a){var n,i,s,l=e.state.oweMatrix,c=l.length,m=[],o=0;for(i=0;i<c;i++)n=l[t].member[i].name,0!==(s=l[t].member[i].amt)&&(m.push(r.a.createElement("div",{className:"ui label",key:o},n," owes ",a," $",s)),o++);return r.a.createElement("div",{className:"ui large labels"},m)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.mainData(),this.generateReceiptList(),this.determineDebt()}},{key:"render",value:function(){return!0===this.state.infoLoaded?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f,{data:this.state.main}),r.a.createElement("div",{className:"fields"},r.a.createElement("button",{className:"ui icon button",type:"button",onClick:this.changeColor},r.a.createElement("i",{className:"paint brush icon"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"ui four cards"},this.cardDisplay())))):r.a.createElement("div",null,r.a.createElement("h1",null,"Loading..."))}}]),a}(n.Component)),y=(a(153),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={step:1,title:"",participants:[],receiptDetails:[]},e.eventNameSubmit=function(t){var a=e.state.step;a++,e.setState({step:a,title:t.title,participants:t.participants})},e.receiptInputSubmit=function(t){var a=e.state.step;a++,e.setState({step:a,receiptDetails:t.receipts})},e.getDetails=function(t){e.setState({receiptDetails:t})},e}return Object(c.a)(a,[{key:"render",value:function(){return 1===this.state.step?(console.log("Main.js Step 1: ",this.state),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Event Finance Organization")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(d,{onSubmit:this.eventNameSubmit})))):2===this.state.step?(console.log("Main.js Step 2: ",this.state),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},this.state.title," Finance Organization")),r.a.createElement("br",null),r.a.createElement(b,{members:this.state.participants,details:this.state.receiptDetails,onMainReturn:this.getDetails,onSubmit:this.receiptInputSubmit}),r.a.createElement("br",null))):3===this.state.step?(console.log("Main.js Step 3: ",this.state),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},this.state.title," Finance Breakdown")),r.a.createElement("div",null,r.a.createElement(E,{allReceipts:this.state.receiptDetails,members:this.state.participants})))):(console.log(this.state),r.a.createElement("div",null,"Step Error"))}}]),a}(n.Component)),g=(a(154),function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-content"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{className:"logo-main",src:"/splitsy/splitsy_logo_v7.png",alt:"logo"})),r.a.createElement(y,null))}}]),a}(n.Component));s.a.render(r.a.createElement(g,null),document.querySelector("#root"))},49:function(e,t,a){e.exports=a(155)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.d63b71b6.chunk.js.map